---
import Layout from '../../layouts/Layout.astro';
import TrackingPageClient from '../../components/TrackingPageClient';

const { id } = Astro.params;

// Allow direct access via tracking number in URL
// No cookie required - works in iframes and direct links
if (!id) {
  return Astro.redirect('/');
}
---

<Layout title="Tracking Details - WakaTrack">
  <TrackingPageClient shipmentId={id!} client:load />
</Layout>

<style>
  /* Leaflet CSS needs to be loaded for the map */
</style>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
